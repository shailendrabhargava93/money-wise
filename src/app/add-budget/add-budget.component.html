<form
  nz-form
  [nzLayout]="'vertical'"
  [formGroup]="form"
  class="p-1 justify-center space-y-2"
>
  <!-- Start Date -->
  <div class="w-full max-w-2xl mx-auto px-4">
    <label class="block mb-2 font-medium text-gray-800 text-sm" for="startDate">
      Start Date <span class="text-red-500">*</span>
    </label>
    <div
      class="bg-white w-full rounded-2xl shadow-sm p-4 hover:shadow-md transition duration-300 ease-in-out"
    >
      <nz-form-control class="w-full" [nzSm]="24" [nzXs]="24">
        <nz-input-group [nzAddOnBefore]="datetemp" class="w-full">
          <nz-date-picker
            formControlName="startDate"
            [nzFormat]="dateFormat"
            nzSuffixIcon=""
            class="w-full"
          ></nz-date-picker>
        </nz-input-group>
        <ng-template #datetemp>
          <svg
            class="w-6 h-6 text-gray-800 dark:text-white"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            fill="none"
            viewBox="0 0 24 24"
          >
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="1"
              d="M4 10h16m-8-3V4M7 7V4m10 3V4M5 20h14a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1Zm3-7h.01v.01H8V13Zm4 0h.01v.01H12V13Zm4 0h.01v.01H16V13Zm-8 4h.01v.01H8V17Zm4 0h.01v.01H12V17Zm4 0h.01v.01H16V17Z"
            />
          </svg>
        </ng-template>
      </nz-form-control>
    </div>
  </div>

  <!-- End Date -->
  <div class="w-full max-w-2xl mx-auto px-4">
    <label class="block mb-2 font-medium text-gray-800 text-sm" for="endDate">
      End Date <span class="text-red-500">*</span>
    </label>
    <div
      class="bg-white w-full rounded-2xl shadow-sm p-4 hover:shadow-md transition duration-300 ease-in-out"
    >
      <nz-form-control class="w-full" [nzSm]="24" [nzXs]="24">
        <nz-input-group [nzAddOnBefore]="datetemp" class="w-full">
          <nz-date-picker
            formControlName="endDate"
            [nzFormat]="dateFormat"
            nzSuffixIcon=""
            class="w-full"
          ></nz-date-picker>
        </nz-input-group>
        <ng-template #datetemp>
          <svg
            class="w-6 h-6 text-gray-800 dark:text-white"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            fill="none"
            viewBox="0 0 24 24"
          >
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="1"
              d="M4 10h16m-8-3V4M7 7V4m10 3V4M5 20h14a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1Zm3-7h.01v.01H8V13Zm4 0h.01v.01H12V13Zm4 0h.01v.01H16V13Zm-8 4h.01v.01H8V17Zm4 0h.01v.01H12V17Zm4 0h.01v.01H16V17Z"
            />
          </svg>
        </ng-template>
      </nz-form-control>
    </div>
  </div>

  <!-- Budget Amount -->
  <div class="w-full max-w-2xl mx-auto px-4">
    <label class="block mb-2 font-medium text-gray-800 text-sm" for="amount">
      Budget Amount <span class="text-red-500">*</span>
    </label>
    <div
      class="bg-white w-full rounded-2xl shadow-sm p-4 hover:shadow-md transition duration-300 ease-in-out"
    >
      <nz-form-control class="w-full" [nzSm]="24" [nzXs]="24">
        <nz-input-group [nzAddOnBefore]="curTemp" class="w-full">
          <input
            nz-input
            type="number"
            placeholder="Enter amount"
            formControlName="totalBudget"
            class="w-full px-3 py-2 text-base"
          />
        </nz-input-group>
        <ng-template #curTemp>
          <span class="text-lg text-gray-700 px-3">
            {{ (currency | async)?.symbol }}
          </span>
        </ng-template>
      </nz-form-control>
      <span class="inline-flex mt-3">
        <nz-tag
          class="cursor-pointer"
          *ngFor="let amount of budgetAmountSuggestions"
          [nzColor]="'geekblue'"
          (click)="onAmountClick(amount)"
        >
          {{ (currency | async)?.symbol }} {{ amount | number }}
        </nz-tag>
      </span>
    </div>
  </div>

  <!-- Name Your Budget -->
  <div class="w-full max-w-2xl mx-auto px-4">
    <label class="block mb-2 font-medium text-gray-800 text-sm" for="title">
      Name Your Budget <span class="text-red-500">*</span>
    </label>
    <div
      class="bg-white w-full rounded-2xl shadow-sm p-4 hover:shadow-md transition duration-300 ease-in-out"
    >
      <nz-form-control class="w-full" [nzSm]="24" [nzXs]="24">
        <nz-input-group [nzAddOnBefore]="titletemp" class="w-full">
          <input
            placeholder="Enter Budget Name"
            nz-input
            formControlName="name"
            class="w-full px-3 py-2 text-base"
          />
        </nz-input-group>
        <ng-template #titletemp>
          <svg
            class="w-6 h-6 text-gray-800 dark:text-white"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            fill="none"
            viewBox="0 0 24 24"
          >
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="1"
              d="m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z"
            />
          </svg>
        </ng-template>
      </nz-form-control>
      <span class="inline-flex mt-3">
        <nz-tag
          class="cursor-pointer"
          *ngFor="let name of budgetNameSuggestions"
          [nzColor]="'geekblue'"
          (click)="onNameClick(name)"
        >
          {{ name }}
        </nz-tag>
      </span>
    </div>
  </div>

  <!-- Buttons -->
  <div class="w-full max-w-2xl mx-auto px-4 flex flex-col space-y-3">
    <button
      *ngIf="!isUpdate"
      [disabled]="!form.valid"
      nz-button
      class="primary rounded-full w-full"
      (click)="createBudget()"
    >
      Add Budget
    </button>
    <button
      *ngIf="isUpdate"
      [disabled]="!form.valid"
      nz-button
      class="primary rounded-full w-full"
      (click)="updateBudget()"
    >
      Update Budget
    </button>
  </div>
</form>


<!-- From setup need to show all done for that modal -->
 <!-- query modal-->
  <nz-drawer [nzClosable]="false" [nzVisible]="enableCompleteSetup" [nzPlacement]="'bottom'" nzTitle="Completed"
    [nzExtra]="tempExtra" (nzOnClose)="closeCompSetup()">
    <ng-container *nzDrawerContent>
      <div class="flex flex-col items-center justify-center p-4">
        <img class="h-72 mb-4" src="assets/completed-pana.svg" alt="Strategy illustration" />
        <h3 class="text-sm text-center text-gray-500 mb-6 px-4">You have successfully completed the setup!</h3>
        <h3 class="text-sm text-center text-gray-500 mb-6 px-4">Happy Tracking !</h3>
        <button nz-button class="primary rounded-full w-36" routerLink="/home">Home</button>
      </div>
    </ng-container>
  </nz-drawer>
  <ng-template #tempExtra>
    <span class="cursor-pointer" nz-icon nzType="close" nzTheme="outline" (click)="closeCompSetup()"></span>
  </ng-template>